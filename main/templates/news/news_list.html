<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список новостей</title>
</head>
<body>
    <h1>Новости</h1>

    <!-- Список новостей -->
    {% if news %}
        <ul>
            {% for item in news %}
                <li>
                    <a href="{{ item.get_absolute_url }}">
                        <h2>{{ item.title }}</h2>
                    </a>
                    {% if item.image %}
                        <img src="{{ item.image.url }}" alt="{{ item.title }}" style="max-width: 200px; height: auto;">
                    {% endif %}
                    <p>{{ item.content|truncatechars:200 }}</p> <!-- Укороченный текст -->
                    <p><small>Опубликовано: {{ item.created_at }}</small></p>
                </li>
            {% endfor %}
        </ul>

        <!-- Постраничная навигация -->
        <div>
            {% if is_paginated %}
                <div>
                    {% if page_obj.has_previous %}
                        <a href="?page={{ page_obj.previous_page_number }}">Назад</a>
                    {% endif %}

                    <span>Страница {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</span>

                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}">Вперёд</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    {% else %}
        <p>Новостей пока нет.</p>
    {% endif %}
</body>
</html>
